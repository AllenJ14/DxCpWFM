@model DixonsCarphone.WorkforceManagement.ViewModels.BusinessModels.ColleaguePortalVm

@{
    ViewBag.Title = "Colleague Portal";
}

<div class="row">
    &emsp;
</div>

<div class="panel panel-default" style="min-height:500px">
    <div class="panel-heading text-center">
        <strong>Colleague Pay Portal</strong>
    </div>
    <div class="panel-body">
        <div class="col-xs-12">
            <div class="col-xs-12 col-sm-6 col-lg-4">
                <strong>Select Pay Period:</strong>
                @Html.DropDownList("PayPeriod", Model.menu, "--- Select Period ---", new { @class = "form-control" })
            </div>
        </div>
        <div style="display:none;" id="loading" class="text-center"><strong>Loading ...</strong></div>
        <div style="display:none; margin-top:20px;" id="container" class="col-xs-12">
            
        </div>
    </div>    
</div>

@section myScripts{
<script>
    $(function () {
        var $menu = $('#PayPeriod');
        var $cont = $('#container');
        var $loading = $('#loading');

        $menu.change(function () {
            if ($(this).val() !== '') {
                $cont.slideUp(300);
                $loading.show();
                $.get('/APITest/_PayDates', { period: $menu.val() }, function (result) {
                    $cont.html(result);
                    $loading.hide();
                    $cont.slideDown(300);
                });
            }
        });
    });
</script>    
}
