$(function(){var t=$("#formContainer"),i=$("#exception"),n=!1;Date.prototype.getWeek=function(){var n=new Date(this.getFullYear(),0,1);return Math.ceil(((this-n)/864e5+n.getDay()+1)/7)};$("#confException").click(function(){n=!0;i.val(1);t.submit()});$("#cancException").click(function(){n=!1;i.val(0);$("#crException").modal("toggle")});t.submit(function(t){var i=!0,r=!1;$(this).find('[id*="grp"]').each(function(){var f=$(this).find("select").eq(0).val(),e=$(this).find("select").eq(1).val(),o=$(this).find("input").eq(2).val(),t=o.split("-"),u=new Date(t[0],t[1]-1,t[2]),n=new Date;(n.getDay()<=1&&u.getWeek()<n.getWeek()||n.getDay()>=5&&n.getWeek()==u.getWeek())&&(r=!0);f>e?($(this).find(".alert").length||$(this).append('<div class="alert alert-danger text-center"><strong>Start time must be earlier than end time!<\/strong><\/div>'),i=!1):$(".alert",this).remove()});$("#_branchValidate").data("valid")===0&&(i=!1,$("#_branchValidate").addClass("alert alert-danger"));i&&(!r||n)||(t.preventDefault(),r&&!n&&$("#crException").modal("toggle"))})});